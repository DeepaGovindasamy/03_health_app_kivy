#: import color kivy.graphics

<TestPage>:
    MDScreen:
        name: "terms"
        terms_text : terms_text

        MDFloatLayout:
            canvas:
                Color:
                    rgba: app.theme_cls.primary_light
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: 0, 0, 0, 0

            MDCard:
                size_hint: .85, .85
                pos_hint: {"center_x": .5, "center_y": .5}
                orientation: "vertical"
                padding: 15 
                radius: 28
                
                MDLabel:
                    text: "Terms & Conditions"
                    halign: "center"
                
                BoxLayout:
                    size_hint_y : None
                    height : self.minimum_height
                    spacing : "5dp"    
                
                    MDCheckbox:
                        size_hint: None, None
                        size: dp(48), dp(48)
                        active: False
                        pos_hint: {'center_x': .1, 'center_y': .9}
                
                    MDLabel:
                        text: "Please agree to \n the terms & conditions"
                        halign: "center"
                        #pos_hint:{'center_x': 0.5, 'center_y': 0.9}
                   
                MDFillRoundFlatButton:
                    text: "Continue"
                    text_color: 1,1,1,1
                    size_hint_x: 0.8
                    size_hint_y: 0.1
                    #pos_hint:{'center_x': 0.5, 'center_y': 0.1}
                    on_release:
                        root.set_text() # callback function
                        root.current = "account"    
                    
                BoxLayout:
                    orientation: "vertical"    
                    padding: 15
                    ScrollView:
                        
                        MDLabel:
                            id: terms_text
                            text: """x"""
                            size_hint_y: None
                            height: self.texture_size[1]
                            text_size: self.width, None
                            line_height: 1.15
                    
                
                        
                    

    MDScreen:
        name: "account"
        account_input : account_input
        pin_input : pin_input
        re_pin_input : re_pin_input
        email_input : email_input
        

        MDFloatLayout:
            canvas:
                Color:
                    rgba: app.theme_cls.primary_dark
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: 0, 0, 0, 0
            MDCard:
                size_hint: .85, .85
                pos_hint: {"center_x": .5, "center_y": .5}
                radius: 28

                MDFloatLayout:
                    orientation: "vertical"
                    MDLabel:
                        text: "Please create here your account"
                        halign: "center"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.9}
                    MDTextField:
                        id: account_input # name of pin input widget 
                        hint_text: "Enter account name"
                        max_text_length: 15
                        multiline: False
                        helper_text: "Max. 15 letters"
                        helper_text_mode: "on_focus"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.7}
                        size_hint_x:None
                        width:200
                        required : True
                        icon_right: 'account'
                    MDTextField:
                        id: email_input # name of pin input widget 
                        hint_text: "Enter e-mail"
                        max_text_length: 25
                        multiline: False
                        helper_text: "Max. 25 letters"
                        helper_text_mode: "on_focus"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.6}
                        size_hint_x:None
                        width:200
                        required : True
                        icon_right: 'email'
                    MDTextField:
                        id: pin_input # name of pin input widget 
                        hint_text: "Enter PIN here"
                        max_text_length: 4
                        multiline: False
                        helper_text: "Only 4 digits are taken"
                        helper_text_mode: "on_focus"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.4}
                        size_hint_x:None
                        width:200
                        password: True
                        required : True
                        icon_right: 'login'
                    MDTextField:
                        id: re_pin_input # name of pin input widget 
                        hint_text: "Re-Enter PIN here"
                        max_text_length: 4
                        multiline: False
                        helper_text: "Repeat PIN"
                        helper_text_mode: "on_focus"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.3}
                        size_hint_x:None
                        width:200
                        password: True
                        required : True
                        icon_right: 'repeat'
                    MDFillRoundFlatButton:
                        text: "Continue"
                        text_color: 1,1,1,1
                        size_hint_x: 0.8
                        size_hint_y: 0.1
                        pos_hint:{'center_x': 0.5, 'center_y': 0.1}
                        on_release:
                            root.create_account() # callback function
                            root.current = "child"

    MDScreen:
        name: "child"
        child_name_input : child_name_input
        child_last_input : child_last_input
        child_age_input : child_age_input
        child_gender_input : child_gender_input

        MDFloatLayout:
            canvas:
                Color:
                    rgba: app.theme_cls.primary_light
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: 0, 0, 0, 0
            MDCard:
                size_hint: .85, .85
                pos_hint: {"center_x": .5, "center_y": .5}
                radius: 28

                MDFloatLayout:
                    orientation: "vertical"
                    MDLabel:
                        text: "Please enter here your child information"
                        halign: "center"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.9}
                    MDTextField:
                        id: child_name_input # name of pin input widget 
                        hint_text: "Enter child first name"
                        max_text_length: 15
                        multiline: False
                        helper_text: "Max. 15 letters"
                        helper_text_mode: "on_focus"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.7}
                        size_hint_x:None
                        width:200
                        required : True
                        icon_right: 'account-child'
                    MDTextField:
                        id: child_last_input # name of pin input widget 
                        hint_text: "Enter child last name"
                        max_text_length: 15
                        multiline: False
                        helper_text: "Max. 15 letters"
                        helper_text_mode: "on_focus"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.6}
                        size_hint_x:None
                        width:200
                        required : True
                        icon_right: 'account-child'
                    MDTextField:
                        id: child_age_input # name of pin input widget 
                        hint_text: "Enter child's birthday"
                        multiline: False
                        helper_text: "Push calendar icon"
                        helper_text_mode: "on_focus"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                        size_hint_x:None
                        width:200
                        readonly : True
                        required : True
                    MDIconButton:
                        icon: 'calendar'
                        pos_hint:{'center_x': 0.75, 'center_y': 0.5}
                        on_press:
                            root.show_date_picker()
                    MDTextField:
                        id: child_gender_input # name of pin input widget 
                        hint_text: "Enter child gender"
                        max_text_length: 4
                        multiline: False
                        helper_text: "Repeat PIN"
                        helper_text_mode: "on_focus"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.4}
                        size_hint_x:None
                        width:200
                        password: True
                        required : True
                        icon_right: 'gender-male-female'
                    MDFillRoundFlatButton:
                        text: "Submit"
                        text_color: 1,1,1,1
                        size_hint_x: 0.8
                        size_hint_y: 0.1
                        pos_hint:{'center_x': 0.5, 'center_y': 0.1}
                        on_release:
                            # store all in database
                            #root.current = "account"
                            